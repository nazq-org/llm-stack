# release-plz configuration
# https://release-plz.dev/docs/config

[workspace]
# Use conventional commits for changelog generation
changelog_config = "cliff.toml"

# Generate root CHANGELOG.md with all changes
changelog_path = "CHANGELOG.md"

# Create a single PR for all workspace crates
pr_draft = false
pr_labels = ["release"]

# Publish packages in dependency order
publish_timeout = "10m"

# Run cargo-semver-checks before releasing
semver_check = true

# Git tag format: <package>-v<version>
git_tag_name = "{{ package }}-v{{ version }}"
git_release_name = "{{ package }} v{{ version }}"
git_release_draft = false

# Per-crate changelog settings (in addition to root)
[[package]]
name = "llm-stack-core"
changelog_path = "crates/llm-stack-core/CHANGELOG.md"
changelog_include = ["llm-stack-core"]

[[package]]
name = "llm-stack-anthropic"
changelog_path = "crates/llm-stack-anthropic/CHANGELOG.md"
changelog_include = ["llm-stack-anthropic"]

[[package]]
name = "llm-stack-openai"
changelog_path = "crates/llm-stack-openai/CHANGELOG.md"
changelog_include = ["llm-stack-openai"]

[[package]]
name = "llm-stack-ollama"
changelog_path = "crates/llm-stack-ollama/CHANGELOG.md"
changelog_include = ["llm-stack-ollama"]
